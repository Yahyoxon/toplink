(function(){var e,t=[].indexOf;(e=function(e,t,i){var a,n,l,s,o;for(arguments.length<3&&([e,t,i]=["undefined"!=typeof exports?exports:window,...arguments]),o=e,a=0,l=(s=t.split(".")).length;a<l;a++)e=e[n=s[a]]||(e[n]={});return i(e,o)})("Emailable",function(e){return e.merge=function(...t){if((null!=t?t.length:void 0)>0)return e.tap({},function(e){var i,a,n,l,s,o;for(l=[],i=0,n=t.length;i<n;i++)o=t[i],l.push(function(){var t;for(a in t=[],o)s=o[a],t.push(e[a]=s);return t}());return l})},e.tap=function(e,t){return t(e),e},e.getHighestZIndex=function(e){var t,i;return t=[],(i=function(e){var a;if((a=getComputedStyle(e).getPropertyValue("z-index"))&&"auto"!==a&&t.push(parseInt(a)),null!==e&&!e.isEqualNode(document.body))return i(e.parentNode)})(e),0===t.length?999999:t.sort()[t.length-1]},e.isElement=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&typeof("object"===e)&&null!==e&&1===e.nodeType&&typeof("string"===e.nodeName)}}),e("Emailable",function(e){return e.version="2.0.3"}),e("Emailable",function(e){return e.ConfigKeys=["apiKey","allow","verificationTimeout","verifyAfterDelay","formValidation","inputSelector","style","messages","debug","blockOnRateLimit","statusAppendTo"],e.BackwardsCompatibleConfigKeys={html5Validation:"formValidation"},e.Config={allow:{states:["deliverable","risky","unknown"],free:!0,role:!0,disposable:!1},verificationTimeout:5,verifyAfterDelay:1e3,formValidation:!0,inputSelector:"input[type=email]",ignoredForms:[],ignoredInputs:[],blockOnRateLimit:!1,statusAppendTo:"body",style:{loadingIconColor:"rgba(0, 0, 0, 0.3)"},messages:{verifying:"Please wait a moment while we verify your email address.",invalid:"It looks like you've entered an invalid email address.",role:"It looks like you've entered a role or group email address.",free:"It looks like you've entered a free email address.",disposable:"It looks like you've entered a disposable email.",didYouMean:"It looks like you've entered an invalid email address. Did you mean [EMAIL]?",rateLimited:"It looks like you've attempted to enter too many emails."}}}),e("Emailable",function(e){return e.icon=function(e,t){var i,a,n;switch(e){case"good":n='<svg id="10b59127-e392-4295-b72f-4b4f0a168a4a" data-name="Icons" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M17.72,6.33,8,16.06a.37.37,0,0,1-.52,0L2.28,10.86a.38.38,0,0,1,0-.51L4.16,8.46a.37.37,0,0,1,.52,0l3.06,3.06,7.58-7.58a.35.35,0,0,1,.51,0l1.88,1.88A.35.35,0,0,1,17.72,6.33Z"/></svg>',i="rgb(98, 214, 143)";break;case"bad":n='<svg id="ae5d0b04-33ce-4fd9-973e-3db0195daa8f" data-name="Icons" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M16.41,13.78a.41.41,0,0,1,0,.58l-2,2a.43.43,0,0,1-.59,0L10,12.62l-3.8,3.78a.41.41,0,0,1-.58,0l-2-2a.4.4,0,0,1,0-.59L7.4,10,3.59,6.2a.4.4,0,0,1,0-.58l2-2a.43.43,0,0,1,.59,0L10,7.39l3.77-3.78a.42.42,0,0,1,.59,0l2,2a.41.41,0,0,1,0,.58L12.62,10Z"/></svg>',i="rgb(255, 117, 131)"}return(a=document.createElement("span")).innerHTML=n,a.style.cssText=`align-items: center;\nbackground: ${i};\nborder-radius: ${t}px;\nbox-sizing: border-box;\ndisplay: flex;\nfill: white;\nheight: ${t}px;\njustify-content: center;\nline-height: 1;\nmin-height: ${t}px;\nmin-width: ${t}px;\nopacity: 0;\npadding: 15%;\ntransform: scale(0.2, 0.2);\ntransition: .2s cubic-bezier(0.175, 0.885, 0.32, 1.275);\nwidth: ${t}px;`,a.outerHTML},e.loadingIcon=function(e){var t,i;return i='<svg version="1.1" id="loader-1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 50 50" xml:space="preserve">\n  <path\n    d="M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z"\n    transform="rotate(2.8182 25 25)">\n    <animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25"\n      dur="0.6s" repeatCount="indefinite"></animateTransform>\n  </path>\n</svg>',(t=document.createElement("span")).innerHTML=i,t.style.cssText=`box-sizing: border-box;\ndisplay: block;\nfill: ${Emailable.Config.style.loadingIconColor};\nheight: ${e}px;\nline-height: 1;\nmin-height: ${e}px;\nmin-width: ${e}px;\ntransform-origin: 50% 50%;\nwidth: ${e}px;`,t.outerHTML}}),e("Emailable",function(e){return e.Input=class{constructor(e){var i,a;this.input=e,this.currentStatus=void 0,this.verifyTimeout=void 0,this.pastVerifications={},"INPUT"===this.input.tagName&&"false"!==this.input.getAttribute("data-emailable")&&(this.input.form&&(i=this.input.form.name,t.call(Emailable.Config.ignoredForms,i)>=0)||(a=this.input.name,t.call(Emailable.Config.ignoredInputs,a)>=0||(this.enableFormValidation(),this.logName=`input[name=${this.input.name}]`,Emailable.log(`Initialized Emailable on ${this.logName}`),this.input.style.paddingRight="40px",this.lastEmail=this.input.value,this.lastEmail&&setTimeout(()=>this.verify(this.lastEmail),100),void 0,this.input.addEventListener("keyup",e=>this.inputChange(e),!0),this.input.addEventListener("change",e=>this.inputChange(e),!0))))}inputChange(e){var t;return(t=e.target.value)?t!==this.lastEmail||void 0===this.currentStatus?(this.lastEmail=t,"loading"!==this.currentStatus&&this.setStatus("loading"),this.inputTimeout&&clearTimeout(this.inputTimeout),this.inputTimeout=setTimeout(()=>this.verify(t),Emailable.Config.verifyAfterDelay)):void 0:(this.clearStatus(),void clearTimeout(this.inputTimeout))}verify(e){var t;if(!this.input.disabled)return"loading"!==this.currentStatus&&this.setStatus("loading"),(t=Emailable.getPastVerification(e))?(Emailable.log("Has existing verification"),this.handleResponse(t)):Emailable.verifyEmail(e,t=>{var i;return i={status:t.status,body:t.response},Emailable.storePastVerification(e,i),this.handleResponse(i)})}createStatusEl(){var e;if(!this.statusEl)return Emailable.log(`Creating status element for ${this.logName}`),this.statusEl=document.createElement("div"),this.statusEl.setAttribute("data-emailable","status-el"),this.setStatusElSizeAndPosition(),void 0===(e=Emailable.isElement(Emailable.Config.statusAppendTo)?Emailable.Config.statusAppendTo:"string"==typeof Emailable.Config.statusAppendTo?this.input.closest(Emailable.Config.statusAppendTo):void 0)?void Emailable.error("`statusAppendTo` is not a valid element or selector."):e.appendChild(this.statusEl)}setStatusElSizeAndPosition(){var e,t,i,a,n;if(this.statusEl)return Emailable.log("resize and position"),document.body.getBoundingClientRect(),this.input.getBoundingClientRect(),e=Emailable.offset(this.input),this.elSize=.5*this.input.offsetHeight,t=(this.input.offsetHeight-this.elSize)/2,a=e.top+t,i=e.left+this.input.offsetWidth-this.elSize-t,n=Emailable.getHighestZIndex(this.input)+1,this.statusEl.style.cssText=`display: block;\nposition: absolute;\ntop: ${a}px;\nleft: ${i}px;\nwidth: ${this.elSize}px;\nheight: ${this.elSize}px;\nz-index: ${n};`}handleResponse(e){var i,a,n,l,s,o,r,u;return i=Emailable.Config.allow,o=Emailable.Config.messages,200===e.status?(a=!1,r=(n=JSON.parse(e.body)).state,t.call(i.states,r)>=0?!i.role&&n.role?s=o.role:!i.free&&n.free?s=o.free:!i.disposable&&n.disposable?s=o.disposable:a=!0:s=n.did_you_mean?o.didYouMean.replace("[EMAIL]",n.did_you_mean):o.invalid,s&&Emailable.log(s),l={allowed:a,verificationData:e,message:s},u=a?"good":"bad",this.setStatus(u,s),this.sendCallback("verified",l)):429===e.status&&Emailable.Config.blockOnRateLimit?(this.setStatus("bad",o.rateLimited),this.sendCallback("error",{status:e.status,message:"Rate limit reached"})):(this.clearStatus(),s=function(){switch(e.status){case 249:return"Taking too long";case 429:return"Rate limit reached";default:return"Something went wrong"}}(),Emailable.log(`${s} (${e.status})`),this.sendCallback("error",{status:e.status,message:s}))}sendCallback(e,t){var i;return i=new CustomEvent(e,{detail:t}),this.input.dispatchEvent(i)}setStatus(e,t){var i;return Emailable.log(`Set status: ${e} for input ${this.logName}`),this.createStatusEl(),this.currentStatus=e,"loading"===e?(this.setInputMessage(Emailable.Config.messages.verifying),this.statusEl.innerHTML=Emailable.loadingIcon(this.elSize)):(this.setInputMessage(t),this.statusEl.innerHTML=Emailable.icon(e,this.elSize),i=this.statusEl.querySelector("span"),setTimeout(function(){return i.style.opacity=1,i.style.transform="scale(1, 1)"},100))}clearStatus(){var e;if(this.currentStatus=void 0,this.setInputMessage(""),e=this.statusEl.querySelector("span"))return setTimeout(function(){return e.style.opacity=0,e.style.transform="scale(0.2, 0.2)"},100)}setInputMessage(e){if(Emailable.Config.formValidation)return this.input.setCustomValidity(e||"")}enableFormValidation(){if(Emailable.Config.formValidation&&this.input.form)return this.input.form.removeAttribute("novalidate")}destroy(){return this.statusEl.remove()}}}),e("Emailable",function(e){return emailable.q.push=function(e){var t;for(e&&Emailable.processQueueItem(e),t=[];emailable.q!==[]&&(e=emailable.q.shift());)t.push(Emailable.processQueueItem(e));return t},e.processQueueItem=function(e){var i,a;if(i=e[0],a=e[1],t.call(Object.keys(Emailable.BackwardsCompatibleConfigKeys),i)>=0&&(i=Emailable.BackwardsCompatibleConfigKeys[i]),t.call(Emailable.ConfigKeys,i)>=0)return"object"==typeof Emailable.Config[i]?Emailable.Config[i]=Emailable.merge(Emailable.Config[i],a):Emailable.Config[i]=a,Emailable.log(`Setting ${i} to ${JSON.stringify(a)}`)},e.log=function(e){if(Emailable.Config.debug)return console.log(`Emailable: ${e}`)},e.error=function(e){return console.error(`Emailable: ${e}`)},e.verifyEmail=function(e,t){var i,a;return Emailable.log(`Verifying ${e}`),(i=new FormData).append("email",e),i.append("api_key",Emailable.Config.apiKey),i.append("timeout",Emailable.Config.verificationTimeout),(a=new XMLHttpRequest).open("POST","https://api.emailable.com/v1/verify"),a.onload=(()=>t(a)),a.onerror=(()=>t(a)),a.send(i)},e.offset=function(e){var t,i,a;return t=e.getBoundingClientRect(),i=pageXOffset||document.documentElement.scrollLeft,a=pageYOffset||document.documentElement.scrollTop,{top:t.top+a,left:t.left+i}},e.ready=function(e){return"loading"!==document.readyState?e():document.addEventListener?document.addEventListener("DOMContentLoaded",e):document.attachEvent("onreadystatechange",function(){if("complete"===document.readyState)return e()})},e.init=function(){var e,t,i,a,n;if(emailable.loaded)Emailable.log("Already initialized");else if(emailable.loaded=!0,emailable.q.push(),e=Emailable.Config.apiKey){if(e.startsWith("live_")||e.startsWith("test_")){for(new MutationObserver(function(e,t){var i,a,n,l,s,o,r,u,m,d,f,c;for(c=[],i=0,s=e.length;i<s;i++)if("childList"===(m=e[i]).type){for(n=0,o=(f=m.addedNodes).length;n<o;n++)if("#text"!==(d=f[n]).nodeName&&"#comment"!==d.nodeName&&void 0!==d.querySelectorAll)for(l=0,r=(u=d.querySelectorAll(Emailable.Config.inputSelector)).length;l<r;l++)(a=u[l]).emailable||(a.emailable=new Emailable.Input(a));c.push(function(){var e,t,i,n;for(n=[],t=0,e=(i=m.removedNodes).length;t<e;t++)"#text"!==(d=i[t]).nodeName&&"#comment"!==d.nodeName&&void 0!==d.querySelectorAll&&(u=d.querySelectorAll(Emailable.Config.inputSelector),n.push(function(){var e,t,i;for(i=[],t=0,e=u.length;t<e;t++)(a=u[t]).emailable?i.push(a.emailable.destroy()):i.push(void 0);return i}()));return n}())}return c}).observe(document.documentElement,{childList:!0,subtree:!0}),t=0,n=(a=document.querySelectorAll(Emailable.Config.inputSelector)).length;t<n;t++)void 0===(i=a[t]).emailable&&(i.emailable=new Emailable.Input(i));return window.addEventListener("resize",()=>Emailable.repositionAllStatusEls(),!0),window.addEventListener("scroll",()=>Emailable.repositionAllStatusEls(),!0)}console.error('The configured API key is invalid. API keys begin with either "live_" or "test_"')}else console.error("Emailable requires an API key. Please visit https://app.emailable.com/api to obtain one.")},e.repositionAllStatusEls=function(){var e,t,i,a,n;for(n=[],e=0,i=(a=document.querySelectorAll(Emailable.Config.inputSelector)).length;e<i;e++)t=a[e],n.push(t.emailable.setStatusElSizeAndPosition());return n},e.storePastVerification=function(e,t){try{return sessionStorage.setItem(e,JSON.stringify(t))}catch(i){return this.pastVerifications||(this.pastVerifications={}),this.pastVerifications[e]=t}},e.getPastVerification=function(e){try{return JSON.parse(sessionStorage.getItem(e))}catch(t){if(this.pastVerifications)return this.pastVerifications[e]}}}),Emailable.ready(function(){return Emailable.init()}),window.Emailable=Emailable}).call(this);